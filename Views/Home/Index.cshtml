@using CMS.Helpers
@inject ContextHelper ctxHelper
@{
    ViewData["Title"] = "Trang chủ";
    Layout = "~/Views/Shared/Public/_Layout_Home.cshtml";
    var context = ctxHelper._context;


}

<section class="slider">
    <div class="multiple-items">
        @foreach (var item in ViewBag.sliderhome)
        {
            <div class="item">
                <img src="@item.Image" alt="alt-slide">
            </div>
        }
    </div>
</section>
<section class="connect-page">
    <div class="container">
        <ul>
            <li class="item">
                <a href="http://elearning.mitechcenter.vn" target="_blank" title="E-Learning">
                    <span class="icon">
                        <img src="/assets/web/images/E-Learning-Icon.png" alt="alt-image">
                    </span>
                    <span class="title">E-Learning</span>
                </a>
            </li>
            <li class="item">
                <a href="http://thisinh.thithptquocgia.edu.vn/" title="Tra Cứu Điểm Tuyển Sinh" target="_blank">
                    <span class="icon">
                        <img src="/assets/web/images/ion_search-outline.png" alt="alt-image">
                    </span>
                    <span class="title">Tra Cứu Điểm Tuyển Sinh</span>
                </a>
            </li>
            <li class="item">
                <a href="https://mitechcenter.vn" target="_blank" title="TRUNG TÂM CNTT Và NGOẠI NGỮ">
                    <span class="icon">
                        <img src="/assets/web/images/cil_building.png" alt="alt-image">
                    </span>
                    <span class="title">
                        TRUNG TÂM CNTT Và NGOẠI NGỮ
                    </span>
                </a>
            </li>
        </ul>
    </div>
</section>
@if (ViewBag.HomepageBlock1.Count > 0)
{
    <section class="article-post">
        <div class="container">
            <div class="article-post__wrapper">
                <div class="row">
                    @foreach (HomepageItemViewModel item1 in ViewBag.HomepageBlock1)
                    {
                        if (item1.Type == HomepageBlockTypes.DATE)
                        {
                            <div class="col-xs-12 col-md-6 col-lg-6">
                                <div class="article-post__slide">
                                    <div class="d-flex justify-content-between">
                                        <h2 class="heading-featured m-0">
                                            <span>@item1.Title</span>
                                        </h2>
                                        <div class="align-self-center">
                                            <a class="read-more" href="/chuyen-muc/@item1.CategorySlug" title="@item1.Title">Xem thêm<span>[+]</span></a>
                                        </div>
                                    </div>
                                    @if (item1.Posts.Count > 0)
                                    {
                                        <div class="article-new">
                                            <div class="items-slider-container js-items-slider-container">
                                                <div class="slider slider-for">
                                                    @foreach (var post in item1.Posts)
                                                    {
                                                        <article class="slider-nav__anchor">
                                                            <a href="/bai-viet/@post.Slug" title="@post.Title">
                                                                <div class="image">
                                                                    <img src="@post.AvatarUrl" alt="@post.Title">
                                                                </div>
                                                                <div class="item-informations-container left-top">
                                                                    <h3 class="item-slide-title">
                                                                        @(post.Title.Truncate(90))
                                                                    </h3>
                                                                </div>
                                                            </a>
                                                        </article>
                                                    }
                                                </div>
                                                <div class="slider slider-nav">
                                                    @foreach (var post in item1.Posts)
                                                    {
                                                        <div class="slider-nav__info">
                                                            <span class="slider-nav__heading">@String.Format("{0:dd}", post.CreatedAt)</span>
                                                            <span class="slider-nav__text">Tháng @String.Format("{0:MM}", post.CreatedAt)</span>
                                                        </div>
                                                    }
                                                </div>
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        }
                        else
                        {
                            <div class="col-xs-12 col-md-6 col-lg-6">
                                <div class="article-post__info">
                                    <div class="d-flex justify-content-between">
                                        <h2 class="heading-featured">
                                            <span>@item1.Title</span>
                                        </h2>
                                    </div>
                                    @if (item1.Posts.Count > 0)
                                    {
                                        <div class="article-feature">
                                            <div class="slider slider-for">
                                                @foreach (var post in item1.Posts)
                                                {
                                                    <article class="item">
                                                        <div class="image">
                                                            <a href="/bai-viet/@post.Slug" title="@post.Title">
                                                                <img src="@post.AvatarUrl" alt="@post.Title">
                                                            </a>
                                                        </div>
                                                        <div class="description">
                                                            <h3>
                                                                <a href="/bai-viet/@post.Slug" title="@post.Title">
                                                                    @(post.Title.Truncate(90))
                                                                </a>
                                                            </h3>
                                                            <span class="date">
                                                                <i class="fa fa-clock"></i>@String.Format("{0:dd/MM/yyyy}", post.CreatedAt)
                                                            </span>
                                                            <span class="time">@String.Format("{0:HH:mm}", post.CreatedAt)</span>
                                                            <p>
                                                                @(post.ShortDesc.Truncate(90))
                                                            </p>
                                                        </div>
                                                    </article>
                                                }
                                            </div>
                                            <div class="slider slider-nav">
                                                @foreach (var post in item1.Posts)
                                                {
                                                    <article class="item">
                                                        <div class="image">
                                                            <a href="/bai-viet/@post.Slug" title="@(post.Title.Truncate(90))">
                                                                <img src="@post.AvatarUrl" alt="@post.Title">
                                                            </a>
                                                        </div>
                                                        <div class="title">
                                                            <h3>
                                                                <a href="/bai-viet/@post.Slug" title="@post.Title">
                                                                    @(post.Title.Truncate(90))
                                                                </a>
                                                            </h3>
                                                        </div>
                                                    </article>
                                                }
                                            </div>
                                        </div>
                                    }
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>
        </div>
    </section>
}
@if (ViewBag.HomepageBlock2.Count > 0)
{
    <section class="information">
        <div class="container">
            <div class="row">
                @foreach (HomepageItemViewModel item2 in ViewBag.HomepageBlock2)
                {
                    if (item2.Type == HomepageBlockTypes.DATE)
                    {
                        <div class="col-md-6 col-lg-4">
                            <div class="heading-category mb-4">
                                <h2 class="heading-2 heading-2--information">@item2.Title</h2>
                                <a href="chuyen-muc/@item2.CategorySlug" class="view-more" title="">Xem thêm<span>[+]</span></a>
                            </div>
                            @if (item2.Posts.Count > 0)
                            {
                                <div class="list-item">
                                    @foreach (var post in item2.Posts)
                                    {
                                        <article class="category-text__item">
                                            <div class="category-text__time">
                                                <p class="category-text__day">@String.Format("{0:dd}", post.CreatedAt)</p>
                                                <p class="category-text__month">Tháng @String.Format("{0:MM}", post.CreatedAt)</p>
                                            </div>
                                            <div class="category-text__content">
                                                <h3>
                                                    <a href="/bai-viet/@post.Slug" target="" title="@post.Title">
                                                        @(post.Title.Truncate(90))
                                                    </a>
                                                </h3>
                                            </div>
                                        </article>
                                    }
                                </div>
                            }
                        </div>
                    }
                    else
                    {
                        <div class="col-md-6 col-lg-4">
                            <div class="heading-category mb-4">
                                <h2 class="heading-2 heading-2--information">@item2.Title</h2>
                                <a href="chuyen-muc/@item2.CategorySlug" class="view-more" title="">Xem thêm<span>[+]</span></a>
                            </div>
                            @if (item2.Posts.Count > 0)
                            {
                                <div class="list-post">
                                    @foreach (var post in item2.Posts)
                                    {
                                        <article class="item">
                                            <div class="image">
                                                <a href="/bai-viet/@post.Slug" title="">
                                                    <img data-src="@post.AvatarUrl" class="lazyload" alt="@post.Title">
                                                </a>
                                            </div>
                                            <div class="title">
                                                <h3>
                                                    <a href="/bai-viet/@post.Slug" target="" title="@post.Title">
                                                        @(post.Title.Truncate(90))
                                                    </a>
                                                </h3>
                                            </div>
                                        </article>
                                    }
                                </div>
                            }
                        </div>
                    }
                }

            </div>
        </div>
    </section>
}

<section class="mutilmedia">
    <div class="container">
        <ul class="tabs">
            <li>
                <a href="#gallery">Thư viện hình ảnh</a>
            </li>
            <li>
                <a href="#video">Thư viện video</a>
            </li>
        </ul>
        <div class="box-panel">
            <div id="gallery" class="panel">
                <div class="main">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                            <div class="slider slider-for">
                                @foreach (var img in ViewBag.photo)
                                {
                                    <div class="item">
                                        <a href="@img.Image" data-fancybox="images" data-caption="@img.Title">
                                            <img data-src="@img.Image" class="lazyload" alt="gallery">
                                            <div class="title">
                                                <h3>@img.Title</h3>
                                            </div>
                                        </a>
                                    </div>
                                }
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6 col-md-6 col-lg-6">
                            <div class="slider slider-nav">
                                @foreach (var img in ViewBag.photo)
                                {
                                    <div class="item">
                                        <img data-src="@img.Image" class="lazyload" alt="gallery">
                                    </div>
                                }
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div id="video" class="panel">
                <div class="rvs-container">
                    <div class="rvs-item-container">
                        <div class="rvs-item-stage">
                            @foreach (var video in ViewBag.video)
                            {
                                <div class="rvs-item" style="background-image: url(@video.Image)">
                                    <p class="rvs-item-text">@video.Title</p>
                                    <a href="@video.Video" class="rvs-play-video"></a>
                                </div>
                            }
                        </div>
                    </div>
                    <div class="rvs-nav-container">
                        <a class="rvs-nav-prev"></a>
                        <div class="rvs-nav-stage">
                            @foreach (var video in ViewBag.video)
                            {
                                <a class="rvs-nav-item">
                                    <span class="rvs-nav-item-thumb" style="background-image: url(@video.Image)"></span>
                                    <h4 class="rvs-nav-item-title">@video.Title</h4>
                                </a>
                            }
                        </div>
                        <a class="rvs-nav-next"></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>